!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/animations"),require("@angular/forms"),require("@angular/cdk/bidi"),require("@angular/material/input"),require("rxjs/operators/debounceTime"),require("rxjs/operators/skip"),require("@covalent/core/common"),require("@angular/common"),require("@angular/material/icon"),require("@angular/material/button")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/animations","@angular/forms","@angular/cdk/bidi","@angular/material/input","rxjs/operators/debounceTime","rxjs/operators/skip","@covalent/core/common","@angular/common","@angular/material/icon","@angular/material/button"],n):n((e.covalent=e.covalent||{},e.covalent.core=e.covalent.core||{},e.covalent.core.search={}),e.ng.core,e.ng.animations,e.ng.forms,e.ng.cdk.bidi,e.ng.material.input,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.covalent.core.common,e.ng.common,e.ng.material.icon,e.ng.material.button)}(this,function(e,n,t,r,o,a,i,c,s,l,u,p){"use strict";var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};function d(e,n){function t(){this.constructor=e}h(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var b=function(){return function(e){this._changeDetectorRef=e}}(),m=s.mixinControlValueAccessor(b),f=function(e){function t(t,r){var o=e.call(this,r)||this;return o._dir=t,o.showUnderline=!1,o.debounce=400,o.clearIcon="cancel",o.onSearchDebounce=new n.EventEmitter,o.onSearch=new n.EventEmitter,o.onClear=new n.EventEmitter,o.onBlur=new n.EventEmitter,o}return d(t,e),Object.defineProperty(t.prototype,"isRTL",{get:function(){return!!this._dir&&"rtl"===this._dir.dir},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this._input.ngControl.valueChanges.pipe(i.debounceTime(this.debounce),c.skip(1)).subscribe(function(n){e._searchTermChanged(n)})},t.prototype.focus=function(){this._input.focus()},t.prototype.handleBlur=function(){this.onBlur.emit(undefined)},t.prototype.stopPropagation=function(e){e.stopPropagation()},t.prototype.handleSearch=function(e){this.stopPropagation(e),this.onSearch.emit(this.value)},t.prototype.clearSearch=function(){this.value="",this._changeDetectorRef.markForCheck(),this.onClear.emit(undefined)},t.prototype._searchTermChanged=function(e){this.onSearchDebounce.emit(e)},t}(m);f.decorators=[{type:n.Component,args:[{providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return f}),multi:!0}],selector:"td-search-input",template:'<div class="td-search-input">\n  <mat-form-field class="td-search-input-field"\n                  [class.mat-hide-underline]="!showUnderline"\n                  floatPlaceholder="never">\n    <input matInput\n            #searchElement\n            type="search"\n            [(ngModel)]="value"\n            [placeholder]="placeholder"\n            (blur)="handleBlur()"\n            (search)="stopPropagation($event)"\n            (keyup.enter)="handleSearch($event)"/>\n  </mat-form-field>\n  <button mat-icon-button\n          class="td-search-input-clear"\n          type="button"\n          [@searchState]="(searchElement.value ?  \'show\' : (isRTL ? \'hide-left\' : \'hide-right\'))"\n          (click)="clearSearch()">\n    <mat-icon>{{clearIcon}}</mat-icon>\n  </button>\n</div>',styles:[".td-search-input{\n  overflow-x:hidden;\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  -ms-flex-line-pack:center;\n      align-content:center;\n  max-width:100%;\n  -webkit-box-pack:end;\n      -ms-flex-pack:end;\n          justify-content:flex-end; }\n  .td-search-input .td-search-input-field{\n    -webkit-box-flex:1;\n        -ms-flex:1;\n            flex:1; }\n  .td-search-input ::ng-deep mat-form-field.mat-hide-underline .mat-form-field-underline{\n    display:none; }\n  .td-search-input .td-search-input-clear{\n    -webkit-box-flex:0;\n        -ms-flex:0 0 auto;\n            flex:0 0 auto; }\n"],changeDetection:n.ChangeDetectionStrategy.OnPush,inputs:["value"],animations:[t.trigger("searchState",[t.state("hide-left",t.style({transform:"translateX(-150%)",display:"none"})),t.state("hide-right",t.style({transform:"translateX(150%)",display:"none"})),t.state("show",t.style({transform:"translateX(0%)",display:"block"})),t.transition("* => show",t.animate("200ms ease-in")),t.transition("show => *",t.animate("200ms ease-out"))])]}]}],f.ctorParameters=function(){return[{type:o.Dir,decorators:[{type:n.Optional}]},{type:n.ChangeDetectorRef}]},f.propDecorators={_input:[{type:n.ViewChild,args:[a.MatInput]}],showUnderline:[{type:n.Input,args:["showUnderline"]}],debounce:[{type:n.Input,args:["debounce"]}],placeholder:[{type:n.Input,args:["placeholder"]}],clearIcon:[{type:n.Input,args:["clearIcon"]}],onSearchDebounce:[{type:n.Output,args:["searchDebounce"]}],onSearch:[{type:n.Output,args:["search"]}],onClear:[{type:n.Output,args:["clear"]}],onBlur:[{type:n.Output,args:["blur"]}]};var g=function(){return function(e){this._changeDetectorRef=e}}(),y=s.mixinControlValueAccessor(g),x=function(e){function t(t){var r=e.call(this,t)||this;return r._searchVisible=!1,r.backIcon="search",r.searchIcon="search",r.clearIcon="cancel",r.showUnderline=!1,r.debounce=400,r.alwaysVisible=!1,r.onSearchDebounce=new n.EventEmitter,r.onSearch=new n.EventEmitter,r.onClear=new n.EventEmitter,r}return d(t,e),Object.defineProperty(t.prototype,"searchVisible",{get:function(){return this._searchVisible},enumerable:!0,configurable:!0}),t.prototype.searchClicked=function(){!this.alwaysVisible&&this._searchVisible||this._searchInput.focus(),this.toggleVisibility()},t.prototype.toggleVisibility=function(){this._searchVisible=!this._searchVisible,this._changeDetectorRef.markForCheck()},t.prototype.handleSearchDebounce=function(e){this.onSearchDebounce.emit(e)},t.prototype.handleSearch=function(e){this.onSearch.emit(e)},t.prototype.handleClear=function(){this.onClear.emit(undefined)},t}(y);x.decorators=[{type:n.Component,args:[{providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return x}),multi:!0}],selector:"td-search-box",template:'<div class="td-search-box">\n  <button mat-icon-button type="button" class="td-search-icon" (click)="searchClicked()">\n    <mat-icon *ngIf="searchVisible && !alwaysVisible">{{backIcon}}</mat-icon>\n    <mat-icon *ngIf="!searchVisible || alwaysVisible">{{searchIcon}}</mat-icon>\n  </button>\n  <td-search-input #searchInput\n                   [@inputState]="alwaysVisible || searchVisible"\n                   [debounce]="debounce"\n                   [(ngModel)]="value"\n                   [showUnderline]="showUnderline"\n                   [placeholder]="placeholder"\n                   [clearIcon]="clearIcon"\n                   (searchDebounce)="handleSearchDebounce($event)"\n                   (search)="handleSearch($event)"\n                   (clear)="handleClear(); toggleVisibility()">\n  </td-search-input>\n</div>',styles:[":host{\n  display:block; }\n.td-search-box{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n      -ms-flex-direction:row;\n          flex-direction:row;\n  -webkit-box-align:center;\n      -ms-flex-align:center;\n          align-items:center;\n  -ms-flex-line-pack:center;\n      align-content:center;\n  max-width:100%;\n  -webkit-box-pack:end;\n      -ms-flex-pack:end;\n          justify-content:flex-end; }\n  .td-search-box .td-search-icon{\n    -webkit-box-flex:0;\n        -ms-flex:0 0 auto;\n            flex:0 0 auto; }\n  .td-search-box td-search-input{\n    margin-left:12px; }\n    ::ng-deep [dir='rtl'] .td-search-box td-search-input{\n      margin-right:12px;\n      margin-left:0 !important; }\n"],changeDetection:n.ChangeDetectionStrategy.OnPush,inputs:["value"],animations:[t.trigger("inputState",[t.state("0",t.style({width:"0%",margin:"0px"})),t.state("1",t.style({width:"100%",margin:t.AUTO_STYLE})),t.transition("0 => 1",t.animate("200ms ease-in")),t.transition("1 => 0",t.animate("200ms ease-out"))])]}]}],x.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},x.propDecorators={_searchInput:[{type:n.ViewChild,args:[f]}],backIcon:[{type:n.Input,args:["backIcon"]}],searchIcon:[{type:n.Input,args:["searchIcon"]}],clearIcon:[{type:n.Input,args:["clearIcon"]}],showUnderline:[{type:n.Input,args:["showUnderline"]}],debounce:[{type:n.Input,args:["debounce"]}],alwaysVisible:[{type:n.Input,args:["alwaysVisible"]}],placeholder:[{type:n.Input,args:["placeholder"]}],onSearchDebounce:[{type:n.Output,args:["searchDebounce"]}],onSearch:[{type:n.Output,args:["search"]}],onClear:[{type:n.Output,args:["clear"]}]};var w=function(){return function(){}}();w.decorators=[{type:n.NgModule,args:[{imports:[r.FormsModule,l.CommonModule,a.MatInputModule,u.MatIconModule,p.MatButtonModule],declarations:[f,x],exports:[f,x]}]}],w.ctorParameters=function(){return[]},e.CovalentSearchModule=w,e.TdSearchBoxBase=g,e._TdSearchBoxMixinBase=y,e.TdSearchBoxComponent=x,e.TdSearchInputBase=b,e._TdSearchInputMixinBase=m,e.TdSearchInputComponent=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-core-search.umd.min.js.map
