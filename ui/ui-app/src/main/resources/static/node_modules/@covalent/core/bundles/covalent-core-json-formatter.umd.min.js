!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/bidi"),require("@covalent/core/common"),require("@angular/common"),require("@angular/material/tooltip"),require("@angular/material/icon")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/cdk/bidi","@covalent/core/common","@angular/common","@angular/material/tooltip","@angular/material/icon"],t):t((e.covalent=e.covalent||{},e.covalent.core=e.covalent.core||{},e.covalent.core["json-formatter"]={}),e.ng.core,e.ng.cdk.bidi,e.covalent.core.common,e.ng.common,e.ng.material.tooltip,e.ng.material.icon)}(this,function(e,t,n,r,o,a,i){"use strict";var d=function(){function e(e,t){this._changeDetectorRef=e,this._dir=t,this._open=!1,this._levelsOpen=0}return Object.defineProperty(e.prototype,"levelsOpen",{get:function(){return this._levelsOpen},set:function(e){if(!Number.isInteger(e))throw new Error("[levelsOpen] needs to be an integer.");this._levelsOpen=e,this._open=e>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){var t=this._key&&this._key.length>e.KEY_MAX_LENGTH?"…":"";return this._key?this._key.substring(0,e.KEY_MAX_LENGTH)+t:this._key},set:function(e){this._key=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.parseChildren()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRTL",{get:function(){return!!this._dir&&"rtl"===this._dir.dir},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){this._changeDetectorRef.markForCheck()},e.prototype.toggle=function(){this._open=!this._open},e.prototype.isObject=function(){return"object"===this.getType(this._data)},e.prototype.isArray=function(){return Array.isArray(this._data)},e.prototype.hasChildren=function(){return this._children&&this._children.length>0},e.prototype.getValue=function(e){var t=this.getType(e);if("undefined"===t||"null"===t)return t;if("date"===t)e=new Date(e).toString();else if("string"===t)e='"'+e+'"';else{if("function"===t)return e.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}";if(Array.isArray(e))return this.getObjectName()+" ["+e.length+"]"}return e},e.prototype.getType=function(e){if("object"==typeof e){if(!e)return"null";if(Array.isArray(e))return"object";var t=new Date(e);if("[object Date]"===Object.prototype.toString.call(t)&&!Number.isNaN(t.getTime()))return"date"}return typeof e},e.prototype.getObjectName=function(){var e=this._data;if(this.isObject()&&!e.constructor)return"Object";var t=/function (.{1,})\(/.exec(e.constructor.toString());return t&&t.length>1?t[1]:""},e.prototype.getPreview=function(){var t,n=this,r="{ ",o=" }";this.isArray()?(t=this._data.slice(0,e.PREVIEW_LIMIT).map(function(e){return n.getValue(e)}),r="[",o="]"):t=this._children.slice(0,e.PREVIEW_LIMIT).map(function(e){return e+": "+n.getValue(n._data[e])});var a=t.join(", "),i=t.length>=e.PREVIEW_LIMIT||a.length>e.PREVIEW_STRING_MAX_LENGTH?"…":"";return r+a.substring(0,e.PREVIEW_STRING_MAX_LENGTH)+i+o},e.prototype.parseChildren=function(){if(this.isObject()){this._children=[];for(var e in this._data)this._children.push(e)}},e}();d.KEY_MAX_LENGTH=30,d.PREVIEW_STRING_MAX_LENGTH=80,d.PREVIEW_LIMIT=5,d.decorators=[{type:t.Component,args:[{changeDetection:t.ChangeDetectionStrategy.OnPush,selector:"td-json-formatter",styles:[":host{\n  display:block; }\n.td-json-formatter-wrapper{\n  padding-top:2px;\n  padding-bottom:2px; }\n  .td-json-formatter-wrapper .td-key{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    display:-webkit-box;\n    display:-ms-flexbox;\n    display:flex;\n    -webkit-box-orient:horizontal;\n    -webkit-box-direction:normal;\n        -ms-flex-direction:row;\n            flex-direction:row;\n    -webkit-box-align:center;\n        -ms-flex-align:center;\n            align-items:center;\n    -ms-flex-line-pack:center;\n        align-content:center;\n    max-width:100%;\n    -webkit-box-pack:start;\n        -ms-flex-pack:start;\n            justify-content:start; }\n    .td-json-formatter-wrapper .td-key.td-key-node:hover{\n      cursor:pointer; }\n  .td-json-formatter-wrapper .td-object-children.ng-animating{\n    overflow:hidden; }\n  .td-json-formatter-wrapper .td-object-children .td-key,\n  .td-json-formatter-wrapper .td-object-children .td-object-children{\n    padding-left:24px; }\n    ::ng-deep [dir='rtl'] .td-json-formatter-wrapper .td-object-children .td-key, ::ng-deep [dir='rtl']\n    .td-json-formatter-wrapper .td-object-children .td-object-children{\n      padding-right:24px;\n      padding-left:0; }\n    .td-json-formatter-wrapper .td-object-children .td-key.td-key-leaf,\n    .td-json-formatter-wrapper .td-object-children .td-object-children.td-key-leaf{\n      padding-left:48px; }\n      ::ng-deep [dir='rtl'] .td-json-formatter-wrapper .td-object-children .td-key.td-key-leaf, ::ng-deep [dir='rtl']\n      .td-json-formatter-wrapper .td-object-children .td-object-children.td-key-leaf{\n        padding-right:48px;\n        padding-left:0; }\n  .td-json-formatter-wrapper .value{\n    margin-left:5px; }\n    ::ng-deep [dir='rtl'] .td-json-formatter-wrapper .value{\n      padding-right:5px;\n      padding-left:0; }\n    .td-json-formatter-wrapper .value .td-empty{\n      opacity:0.5;\n      text-decoration:line-through; }\n    .td-json-formatter-wrapper .value .string{\n      word-break:break-word; }\n    .td-json-formatter-wrapper .value .date{\n      word-break:break-word; }\n"],template:'<div class="td-json-formatter-wrapper">\n  <a class="td-key"\n     [class.td-key-node]="hasChildren()"\n     [class.td-key-leaf]="!hasChildren()"\n     [tabIndex]="isObject()? 0 : -1"\n     (keydown.enter)="toggle()"\n     (click)="toggle()">\n    <mat-icon class="td-node-icon" *ngIf="hasChildren()">{{open? \'keyboard_arrow_down\' : (isRTL ? \'keyboard_arrow_left\' : \'keyboard_arrow_right\')}}</mat-icon>\n    <span *ngIf="key" class="key">{{key}}:</span>\n    <span class="value">\n      <span [class.td-empty]="!hasChildren()" *ngIf="isObject()" [matTooltip]="getPreview()" matTooltipPosition="after">\n        <span class="td-object-name">{{getObjectName()}}</span>\n        <span class="td-array-length" *ngIf="isArray()">[{{data.length}}]</span>\n      </span>\n      <span *ngIf="!isObject()" [class]="getType(data)">{{getValue(data)}}</span>\n    </span>\n  </a>\n  <div class="td-object-children" [@tdCollapse]="!(hasChildren() && open)">\n    <ng-template let-key ngFor [ngForOf]="children">\n      <td-json-formatter [key]="key" [data]="data[key]" [levelsOpen]="levelsOpen - 1"></td-json-formatter>\n    </ng-template>\n  </div>\n</div>',animations:[r.TdCollapseAnimation()]}]}],d.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:n.Dir,decorators:[{type:t.Optional}]}]},d.propDecorators={levelsOpen:[{type:t.Input,args:["levelsOpen"]}],key:[{type:t.Input,args:["key"]}],data:[{type:t.Input,args:["data"]}]};var s=function(){return function(){}}();s.decorators=[{type:t.NgModule,args:[{imports:[o.CommonModule,a.MatTooltipModule,i.MatIconModule],declarations:[d],exports:[d]}]}],s.ctorParameters=function(){return[]},e.CovalentJsonFormatterModule=s,e.TdJsonFormatterComponent=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-core-json-formatter.umd.min.js.map
